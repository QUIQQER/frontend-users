{template_event name="quiqqer::frontend-users::user-address-top" User=$User}

<section class="quiqqer-frontend-users-address quiqqer-frontendUsers-userdata-section">
    <header>
        <h2>{locale group="quiqqer/frontend-users" var="profile.address.category.title"}</h2>
    </header>

    <div class="quiqqer-frontend-users-address-description">
        <div class="quiqqer-frontend-users-address-description-text">
            {locale group="quiqqer/frontend-users" var="control.address.title.Address.description"}
        </div>

        <button name="create" class="quiqqer-frontend-users-address-description-button">
            <span class="fa fa-plus"></span>
            <span>{locale group="quiqqer/frontend-users" var="control.address.title.Address.addButton"}</span>
        </button>
    </div>

    {template_event name="quiqqer::frontend-users::user-address-begin" User=$User}

    <div class="quiqqer-frontend-users-address-list">
        {if $User->getId()}
        {* Logged in user *}

        {foreach $addresses as $Address}
        <div class="quiqqer-frontend-users-address-list-entry">
            <header>
                <label>
                    <span class="fa fa-address-card-o"></span>
                    {if $Address->getId() == $User->getAttribute('address')}
                    {locale group="quiqqer/frontend-users" var="control.address.header.defaultAddress.title"}
                    {else}
                    {locale group="quiqqer/frontend-users" var="control.address.header.title"}
                    {/if}
                    <input type="hidden"
                           name="address"
                           value="{$Address->getId()}"
                    >
                </label>
            </header>

            {$Address->render()}

            <div class="quiqqer-frontend-users-address-list-entry-buttons">
                <button type="submit" name="edit" value="{$Address->getId()}">
                    <span class="fa fa-edit"></span>
                    <span>
                        {locale group="quiqqer/frontend-users" var="control.address.title.Address.editButton"}
                    </span>
                </button>
                <button type="submit" name="delete" value="{$Address->getId()}" class="btn btn-danger">
                    <span class="fa fa-trash"></span>
                    <span>
                        {locale group="quiqqer/frontend-users" var="control.address.title.Address.deleteButton"}
                    </span>
                </button>
            </div>
        </div>
        {/foreach}
        {/if}
    </div>

    {template_event name="quiqqer::frontend-users::user-address-end" User=$User}
</section>

{template_event name="quiqqer::frontend-users::user-address-bottom" User=$User}
