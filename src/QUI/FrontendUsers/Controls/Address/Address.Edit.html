<section class="quiqqer-frontend-users-address-edit">
    <header>
        <h1>{locale group="quiqqer/frontend-users" var="dialog.frontend-users.edit.title"}</h1>
    </header>

    {template_event name="quiqqer::frontend-users::user-address-edit-begin" User=$User Address=$Address}

    {if $settings.salutation.show}
    <label>
        <span>
            {locale group="quiqqer/frontend-users" var="salutation"}
            {if $settings.salutation.required}*{/if}
        </span>
        <input type="text"
               name="salutation"
               value="{$Address->getAttribute('salutation')|escape:'html'}"
               {if $settings.salutation.required}required{/if}
                placeholder="{locale group='quiqqer/frontend-users' var='salutation'}"
        />
    </label>
    {/if}

    {if $settings.firstname.show}
    <label>
        <span>
            {locale group="quiqqer/frontend-users" var="firstname"}
            {if $settings.firstname.required}*{/if}
        </span>
        <input type="text"
               name="firstname"
               value="{$Address->getAttribute('firstname')|escape:'html'}"
               {if $settings.firstname.required}required{/if}
               placeholder="{locale group='quiqqer/frontend-users' var='firstname'}"
        />
    </label>
    {/if}

    {if $settings.lastname.show}
    <label>
        <span>
            {locale group="quiqqer/frontend-users" var="lastname"}
            {if $settings.lastname.required}*{/if}
        </span>
        <input type="text"
               name="lastname"
               value="{$Address->getAttribute('lastname')|escape:'html'}"
               {if $settings.lastname.required}required{/if}
               placeholder="{locale group='quiqqer/frontend-users' var='lastname'}"
        />
    </label>
    {/if}

    {if $settings.street_no.show}
    <label>
        <span>
            {locale group="quiqqer/frontend-users" var="street_no"}
            {if $settings.street_no.required}*{/if}
        </span>
        {if $Address->getAttribute('street_no') === ''}
        <input type="text" name="street" value="" autocomplete="shipping street-address" {if $settings.street_no.required}required{/if}
               placeholder="{locale group='quiqqer/frontend-users' var='street'}"
        />
        <input type="text" name="street_number" value=""
               placeholder="{locale group='quiqqer/frontend-users' var='house_no'}"
        />
        {else}
        <input type="text"
               name="street_no"
               value="{$Address->getAttribute('street_no')|escape:'html'}"
               {if $settings.street_no.required}required{/if}
        />
        {/if}
    </label>
    {/if}

    {if $settings.zip.show}
    <label>
        <span>
            {locale group="quiqqer/frontend-users" var="zip"}
            {if $settings.zip.required}*{/if}
        </span>
        <input type="text"
               name="zip"
               value="{$Address->getAttribute('zip')|escape:'html'}"
               {if $settings.zip.required}required{/if}
               placeholder="{locale group='quiqqer/frontend-users' var='zip'}"
        />
    </label>
    {/if}

    {if $settings.city.show}
    <label>
        <span>
            {locale group="quiqqer/frontend-users" var="city"}
            {if $settings.city.required}*{/if}
        </span>
        <input type="text"
               name="city"
               value="{$Address->getAttribute('city')|escape:'html'}"
               {if $settings.city.required}required{/if}
               placeholder="{locale group='quiqqer/frontend-users' var='city'}"
        />
    </label>
    {/if}

    {if $settings.country.show}
    <label>
        <span>
            {locale group="quiqqer/system" var="country"}
            {if $settings.country.required}*{/if}
        </span>
        {control name="country" control="QUI\Countries\Controls\Select" selected=$Address->getAttribute('country')}
    </label>
    {/if}

    {if $settings.phone.show}
    <label>
        <span>
            {locale group="quiqqer/frontend-users" var="phone"}
            {if $settings.phone.required}*{/if}
        </span>
        <input type="tel"
               name="phone"
               value="{$phone|escape:'html'}"
               {if $settings.phone.required}required{/if}
               placeholder="{locale group='quiqqer/frontend-users' var='phone_no'}"
        />
    </label>
    {/if}

    {if $settings.mobile.show}
    <label>
        <span>
            {locale group="quiqqer/frontend-users" var="mobile"}
            {if $settings.mobile.required}*{/if}
        </span>
        <input type="tel"
               name="mobile"
               autocomplete="mobile"
               value="{$mobile|escape:'html'}"
               {if $settings.mobile.required}required{/if}
               placeholder="{locale group='quiqqer/frontend-users' var='mobile'}"
        />
    </label>
    {/if}

    {if $settings.fax.show}
    <label>
        <span>
            {locale group="quiqqer/frontend-users" var="fax"}
            {if $settings.fax.required}*{/if}
        </span>
        <input type="tel"
               name="fax"
               autocomplete="fax"
               value="{$fax|escape:'html'}"
               {if $settings.fax.required}required{/if}
               placeholder="{locale group='quiqqer/frontend-users' var='fax'}"
        />
    </label>
    {/if}

    {template_event name="quiqqer::frontend-users::user-address-edit-end" User=$User Address=$Address}

    <button type="submit" name="editSave" value="1" class="quiqqer-frontend-users-address-edit-button">
        {locale group="quiqqer/frontend-users" var="dialog.frontend-users.edit.address.btn"}
    </button>

    <input type="hidden" name="addressId" value="{$Address->getId()}"/>
    <input type="hidden" name="step" value="{$this->getName()}"/>
</section>
