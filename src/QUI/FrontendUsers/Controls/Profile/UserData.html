<noscript>
    <style>
        .quiqqer-frontendUsers-userdata-email__hidden {
            display: inline-block;
        }
    </style>
</noscript>

<h2>{locale group="quiqqer/frontend-users" var="profile.userdata.title"}</h2>

{if $changeMailRequest}
<div class="quiqqer-frontendUsers-info">
    {locale group="quiqqer/frontend-users" var="profile.userdata.message.change_email_request"}
</div>
{/if}

{if $action == 'change_email_success'}
<div class="quiqqer-frontendUsers-success">
    {locale group="quiqqer/frontend-users" var="profile.userdata.message.change_email_success"}
</div>
{/if}

{if $action == 'change_email_error'}
<div class="quiqqer-frontendUsers-error">
    {locale group="quiqqer/frontend-users" var="profile.userdata.message.change_email_error"}
</div>
{/if}

<label>
    <span class="quiqqer-frontendUsers-userdata-label">
        {locale group="quiqqer/frontend-users" var="profile.userdata.firstname"}
    </span>
    <input name="firstname" value="{$User->getAttribute('firstname')|escape:'html'}"/>
</label>

<label>
    <span class="quiqqer-frontendUsers-userdata-label">
        {locale group="quiqqer/frontend-users" var="profile.userdata.lastname"}
    </span>
    <input name="lastname" value="{$User->getAttribute('lastname')|escape:'html'}"/>
</label>

<label>
    <span class="quiqqer-frontendUsers-userdata-label">
       {locale group="quiqqer/frontend-users" var="profile.userdata.dateOfBirth"}
    </span>

    {assign var=day value=$User->getAttribute('birthday')|date_format:"%d"}
    {assign var=month value=$User->getAttribute('birthday')|date_format:"%m"}
    {assign var=year value=$User->getAttribute('birthday')|date_format:"%Y"}

    <div class="package-intranet-profile-birthday">
        {birthday type="day"
        name="birth_day"
        id="intranet-profile-birthday-day"
        value=$day
        }

        {birthday type="month"
        name="birth_month"
        id="intranet-profile-birthday-month"
        value=$month
        }

        {birthday type="year"
        name="birth_year"
        id="intranet-profile-birthday-year"
        value=$year
        }
    </div>
</label>

{if $username}
<label>
    <span class="quiqqer-frontendUsers-userdata-label">
        {locale group="quiqqer/frontend-users" var="profile.userdata.username"}
    </span>
    <input name="username" value="{$User->getUsername()}"/>
</label>
{/if}

<label>
    <span class="quiqqer-frontendUsers-userdata-label">
        {locale group="quiqqer/frontend-users" var="profile.userdata.email"}
    </span>
    <div class="quiqqer-frontendUsers-userdata-email">
        <input name="email" value="{$User->getAttribute('email')|escape:'html'}" disabled/>
        <span class="fa fa-edit quiqqer-frontendUsers-userdata-email-edit"></span>
    </div>
</label>

<label class="quiqqer-frontendUsers-userdata-email-new quiqqer-frontendUsers-userdata-email__hidden">
    <span class="quiqqer-frontendUsers-userdata-label">
        {locale group="quiqqer/frontend-users" var="profile.userdata.email_new"}
    </span>
    <input name="emailNew"/>
    <span class="quiqqer-frontendUsers-userdata-email-new-hint">
        {locale group="quiqqer/frontend-users" var="profile.userdata.email_new_hint"}
    </span>
</label>

<button type="submit" class="quiqqer-frontendUsers-userdata-saveButton">
    {locale group="quiqqer/frontend-users" var="profile.userdata.save"}
</button>