<noscript class="quiqqer-fu-login-noscript">
    <div class="message-error">
        {locale group="quiqqer/frontend-users" var="registrars.email.javascript_required"}
    </div>
</noscript>

{if $SessionUser->getId()}
<div class="quiqqer-fu-login-logged-in message-information">
    {locale
    group="quiqqer/frontend-users"
    var="message.already.loged.in"
    username=$SessionUser->getName()
    }
</div>
{else}

<section class="quiqqer-fu-login-container" style="display: none">
    {if $this->getAttribute('header')}
        <h2>{locale group="quiqqer/frontend-users" var="control.login.title"}</h2>
    {/if}

    <div class="quiqqer-fu-login-social">
        {foreach $authenticators as $entry}
        <form action=""
              method="POST"
              class="quiqqer-fu-login-social-entry"
              data-authenticator="{$entry.class}"
        >
            <span class="quiqqer-fu-login-social-entry-icon">
                {if $entry.icon}
                <span class="{$entry.Login->getAttribute('icon')}"></span>
                {elseif $entry.image}
                <img src="{$entry.Login->getAttribute('icon')}" alt="" />
                {/if}
            </span>
            <span class="quiqqer-fu-login-social-entry-loader">
                <span class="fa fa-spin fa-spinner fas fa-circle-notch"></span>
            </span>
            <div class="quiqqer-fu-login-social-entry-control">
                {$entry.Login->create()}
            </div>
        </form>
        {/foreach}
    </div>

    {if $this->getAttribute('mail')}
        {if count($authenticators)}
        <div class="quiqqer-fu-login-between-text">
            {locale group="quiqqer/frontend-users" var="control.login.message.between"}
        </div>
        {/if}

        <form name="quiqqer-fu-login-email" class="quiqqer-fu-login-email">
            <section class="quiqqer-fu-login-email-mailSection">
                <label>
                    <span class="label">
                        {locale group="quiqqer/frontend-users" var="control.registration.sign.up.email.title"}
                    </span>
                    <span class="field">
                    <span class="icon fa fa-envelope"></span>
                        <input type="text" name="username" required autocomplete="email"/>
                    </span>
                </label>

                <label>
                    <span class="label">
                        {locale group="quiqqer/frontend-users" var="control.registration.sign.up.password.title"}
                    </span>
                    <span class="field">
                    <span class="icon fa fa-key"></span>
                        <input type="password" name="password" required autocomplete="off"/>
                    </span>
                </label>

                <div class="quiqqer-fu-login-email-buttons">
                    <button type="submit" name="mail-login">
                        {locale group="quiqqer/frontend-users" var="control.login.button"}
                    </button>
                </div>
            </section>
        </form>
    {/if}

    {if $showPasswordReset}
    <div class="quiqqer-fu-login-forget-password-link">
        <a href="#">
            {locale group="quiqqer/frontend-users" var="control.login.forgotten.password"}
        </a>
    </div>
    {/if}

    {if $showPasswordReset}
    <div class="quiqqer-fu-login-forget-password-reset" style="display: none;">
        <section>
            <h2>{locale group="quiqqer/frontend-users" var="quiqqer.auth.login.password.title"}</h2>

            <p>
                {locale group="quiqqer/system" var="quiqqer.auth.login.password.message"}
            </p>

            <label>
            <span>
                {locale group="quiqqer/system" var="quiqqer.auth.login.label.email"}
            </span>
                <input type="email" value="" name="email"/>
            </label>

            <button type="submit" class="login qui-button btn-green reset-password">
                <span>{locale group='quiqqer/quiqqer' value='controls.users.auth.quiqqerlogin.btn.password_reset'}</span>
            </button>

            <button name="cancel" type="reset">
                {locale group='quiqqer/quiqqer' value='cancel'}
            </button>
        </section>
    </div>
    {/if}
</section>

{/if}