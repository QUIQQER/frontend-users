{if isset($error)}
<div class="quiqqer-frontendUsers-error">
    {$error}
</div>
{/if}

{if $success}
<div class="quiqqer-frontendUsers-success">
    {$Registrar->getSuccessMessage()}

    {if $autoRedirect}
    <div class="quiqqer-frontendUsers-autoRedirect" data-url="{$autoRedirect}">
        <a href="{$autoRedirect}">
            {locale group="quiqqer/frontend-users" var="control.registration.auto_redirect"}
        </a>
    </div>
    {else}
    <!-- SHOW LOGIN -->
    {/if}
</div>
{elseif $Registrar && isset($registrationStatus) && $registrationStatus === 2}
<div class="quiqqer-frontendUsers-pending">
    {$Registrar->getPendingMessage()}
</div>
{else}

    {if $Registrars->isEmpty()}
        <div class="quiqqer-frontendUsers-info">
            {locale group="quiqqer/frontend-users" var="control.registration.registration_disabled"}
        </div>
    {else}
        <div class="quiqqer-frontendUsers-controls-registration">
            {foreach $Registrars as $Registrar}
            <form action=""
                  method="POST"
                  class="quiqqer-frontendUsers-controls-registration-registrar"
                  data-registrar="{$Registrar->getHash()}"
            >
                <header>
                    <h1>{$Registrar->getTitle()}</h1>
                </header>

                {$Registrar->getControl()->create()}

                <input type="hidden" name="registrar" value="{$Registrar->getHash()}"/>
                <input type="hidden" name="registration" value="1"/>
            </form>

            {if $Registrar !== $Registrars->last()}
            <div class="quiqqer-frontendUsers-controls-registration-or">
                <span class="quiqqer-frontendUsers-controls-registration-or-text control-background">
                    {locale group="quiqqer/frontend-users" var="control.registration.or"}
                </span>
            </div>
            {/if}
            {/foreach}
        </div>
    {/if}
{/if}
