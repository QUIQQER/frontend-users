{if isset($error)}
<div class="quiqqer-frontendUsers-error">
    {$error}
</div>
{/if}

{if (!empty($data['status']) && $data['status'] === 'success')
|| ($Registrator && isset($registrationStatus) && $registrationStatus === 1)}
<div class="quiqqer-frontendUsers-success">
    {$Registrator->getSuccessMessage()}
</div>
{elseif $Registrator && isset($registrationStatus) && $registrationStatus === 2}
<div class="quiqqer-frontendUsers-pending">
    {$Registrator->getPendingMessage()}
</div>
{else}
<div class="quiqqer-frontendUsers-controls-registration">
    {foreach $Registrators as $Registrator}
    <form action=""
          method="POST"
          class="quiqqer-frontendUsers-controls-registration-registrator"
          data-registrator="{$Registrator->getType()}"
    >
        {if $showUsernameInput}
        <fieldset>
            <label>
                <span class="quiqqer-registration-field-title">
                    {locale group="quiqqer/frontend-users" var="control.registration.label.username"}
                </span>
                <input type="text" name="username" class="quiqqer-registration-field-element">
            </label>
        </fieldset>
        {/if}

        {if $showAddressInput}
        <fieldset>
            <label>
                <span class="quiqqer-registration-field-title">
                    {locale group="quiqqer/frontend-users" var="control.registration.label.address"}
                </span>
                <input type="text" name="address" class="quiqqer-registration-field-element">
            </label>
        </fieldset>
        {/if}

        {$Registrator->getControl()->create()}
        <input type="hidden" name="registrator" value="{$Registrator->getType()}"/>
        <input type="hidden" name="registration" value="1"/>
    </form>

    {if $Registrator !== $Registrators->last()}
    <div class="quiqqer-frontendUsers-controls-registration-or">
        <span class="quiqqer-frontendUsers-controls-registration-or-text control-background">
            {locale group="quiqqer/frontend-users" var="control.registration.or"}
        </span>
    </div>
    {/if}
    {/foreach}
</div>
{/if}
